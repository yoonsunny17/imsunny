(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[452],{8046:(e,t,s)=>{Promise.resolve().then(s.bind(s,33))},33:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(5155),r=s(2115),l=s(9904),n=s(7058);let o=(0,l.Wp)({apiKey:"AIzaSyA7yYNGKFzmWPP-J5tpsc4uqtgbOlKx-nc",authDomain:"imsunny-4b1a1.firebaseapp.com",projectId:"imsunny-4b1a1",storageBucket:"imsunny-4b1a1.firebasestorage.app",messagingSenderId:"745784587985",appId:"1:745784587985:web:90c558850f7829d217f7f0",measurementId:"G-6HWTC4BMG8"});(0,n.aU)(o);let d=(0,n.aU)(o);var m=s(2885);let i=()=>{let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)({name:"",message:"",theme:"default"});(0,r.useEffect)(()=>{let e=(0,n.P)((0,n.rJ)(d,"guestbook"),(0,n.My)("createdAt","desc")),s=(0,n.aQ)(e,e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>s()},[]);let o=async e=>{if(e.preventDefault(),!s.message)return;let t=6e4*new Date().getTimezoneOffset(),a=new Date(Date.now()-t),r={...s,name:""===s.name?"익명":s.name,createdAt:a.toISOString(),theme:s.theme};try{await (0,n.gS)((0,n.rJ)(d,"guestbook"),r),l({name:"",message:"",theme:"default"})}catch(e){console.log(e)}},i={gray:"#A6AEBF",skyblue:"#C5D3E8",green:"#D0E8C5",yellow:"#FFF8DE",lightsand:"#F0EBE3",babypink:"#F3D0D7",lightpink:"#FFEFEF",default:"#E5E7EB"};return(0,a.jsx)("div",{className:"min-h-screen",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-[#30B0C7] mb-1",children:"GUESTBOOK"}),(0,a.jsxs)("p",{className:"text-gray-400 mb-8 text-sm text-themeText-guide",children:["Total: ",e.length]}),(0,a.jsxs)("form",{onSubmit:o,className:"border-4 p-6 rounded-lg shadow-lg mb-8",style:{borderColor:i[s.theme]},children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex flex-row w-full sm:w-[88%] items-center justify-between",children:[(0,a.jsx)("input",{type:"text",placeholder:"이름 (선택)",value:s.name,onChange:e=>l(t=>({...t,name:e.target.value})),className:"px-4 py-1.5 rounded text-themeText text-sm border border-themeText-border w-32 md:w-40 focus:outline-none focus:border-[#30B0C7]"}),(0,a.jsx)("div",{className:"flex flex-row gap-1 sm:gap-2",children:Object.entries(i).map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>l(t=>({...t,theme:e[0]})),children:(0,a.jsx)(m.eS$,{className:"md:text-xl",color:e[1]})},e[0]))})]}),(0,a.jsx)("div",{className:"px-2 py-1.5 w-[10%] sm:block hidden"})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsx)("input",{placeholder:"메시지를 입력하세요",value:s.message,onChange:e=>l(t=>({...t,message:e.target.value})),className:"px-4 py-1.5 mr-2 w-full rounded text-themeText text-sm border border-themeText-border focus:outline-none focus:border-[#30B0C7]"}),(0,a.jsx)("button",{className:"px-2 py-1.5 min-w-[36px] w-auto sm:w-[10%] border border-themeText-border text-themeText  text-xs sm:text-sm rounded whitespace-nowrap",children:"게시"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"relative p-6 mb-2 rounded-lg shadow-lg transform rotate-1 hover:rotate-0 transition-transform duration-300",style:{boxShadow:"4px 4px 10px rgba(0, 0, 0, 0.2)",backgroundColor:i[e.theme]},children:[(0,a.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-400 w-16 h-8 opacity-50"}),(0,a.jsxs)("div",{className:"text-gray-800 flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"font-semibold text-sm mb-2",children:e.name}),(0,a.jsx)("p",{className:"line-clamp-5 text-[#374151] h-32",children:e.message}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:new Date(e.createdAt).toLocaleDateString("ko-KR",{year:"2-digit",month:"2-digit",day:"2-digit"}).slice(0,6)})]})]},e.id))})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[202,992,248,441,517,358],()=>t(8046)),_N_E=e.O()}]);